# 끄적끄적할용도로 만든 생각정리 파일

- 가독성 좋은 테스트코드를 만들고싶다.
Mock 테스트-성공 테스크코드클래스, Mock 테스트-실패 태스트코드클래스 따로 두는게 좋을듯하게보인다.->왜냐하면 하나의 Mock테스트 모았더니 복잡하다.
- 동시성테스트하려고 ExecutorService의 스레드 풀을 작성하였는데 테스트코드작성시 스레드풀은 몇으로 테스트해야됨??

# 리팩토링
- 테이블의 아이디의 커서가 잘 작동하는지테스트
- 공통코드정의 enum 해야되는지 고민좀해보기
- 깃플로우 해봐야되나... 맨날 내가 하는거 깃패치, 깃풀, 그 브랜치 작업 끝,여기서 머지하거나에서 거기서 끝이거나 이상태로 쭉 갔음.
- 로깅컨벤션에 맞게 리팩토링하기
- 줄보다는 그림으로 리드미 정리하기

- Spring REST Docs api명세서 사용해보기
  [https://helloworld.kurly.com/blog/spring-rest-docs-guide/]
- 제네릭,Optional,Stream 써보기-공부했으면 써야되지만 잘 안쓰게되는 3가지임
- 전체적인 메서드들 리팩토링하기

- fixture만들어서 성공객체,실패객체들 만들어서 테스트객체 재사용하게 리팩토링하기
- 다이어그램그리기&그리고나서그림백업&피드백&머메이드코드로정리
  - 유스케이스다이어그램
  - 클래스다이어그램
  - 시퀀스다이어그램
  - 스프링부트아키텍처다이어그램(controller,sevice,repo,domain)


# 동시성해결고민하기
- 1인당 충전은 하루에 10번
- 동시에 할수 있는 요청은 20개
- set은 값을 유니크하게 저장할수있는 자료구조
- 충전중인게 10개이면 딜레이주고 그다음 오세요
- 너무 많은요청이 있다
- 줄 세운다. 10개정도. 그 다음 하나하나씩 비동기적으로 요청들을 계속 받으면 되나?
- 테스트할때 100건도 병렬처리 느린거보고 syncronize 존나 편한데 이거 좋은방법아닌것같음
- 동시성처리 아이디어
  - synchronized
  - ConcurrentHashMap
  - RentrantLock
  - 어노테이션Transactional 동기성제어가 되나
- 작업큐를 만들어서 스케줄링한다.
- 인계영역에 Lock을 걸어 동시에 하나의 작업만 쓰기 작업을 수행할수 있도록 제한한다.
- 비동기처리
- 순서가 보장이 되는가? 안되는가?
- 어노테이션Transactional 동기성제어가 되나
- 동시성테스트를 할때 하나의 테스트에

